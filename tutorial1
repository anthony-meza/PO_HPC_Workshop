# Tutorial 1: What is Xarray?

# Import necessary libraries
import xarray as xr
import matplotlib.pyplot as plt

# 1. Show how xarray can make quick spatial plots
# Load a sample dataset
ds = xr.tutorial.open_dataset('air_temperature')

# Plotting a spatial map
ds.air.isel(time=0).plot()
plt.title("Spatial Plot of Air Temperature")
plt.show()

# 2. Show how xarray can make quick time series of globally averaged and basin averaged data
# Global average
global_avg = ds.air.mean(dim=['lat', 'lon'])
global_avg.plot()
plt.title("Global Average Air Temperature")
plt.show()

# Basin average (example: North Atlantic Ocean)
basin_avg = ds.air.sel(lat=slice(0, 60), lon=slice(-80, 0)).mean(dim=['lat', 'lon'])
basin_avg.plot()
plt.title("Basin Average Air Temperature (North Atlantic Ocean)")
plt.show()

# 3. Show how to compute the seasonal cycle for the global SST and Indian Ocean SST
# Example dataset (sea surface temperature)
sst = xr.tutorial.open_dataset('rasm')['Tair']

# Compute seasonal cycle
seasonal_cycle_global = sst.groupby('time.season').mean()
seasonal_cycle_indian_ocean = sst.sel(lat=slice(-40, 30), lon=slice(40, 110)).groupby('time.season').mean()

seasonal_cycle_global.plot()
plt.title("Seasonal Cycle of Global SST")
plt.show()

seasonal_cycle_indian_ocean.plot()
plt.title("Seasonal Cycle of Indian Ocean SST")
plt.show()

# 4. Exercise: now you pick a region, plot the seasonal cycle using monthly and daily averages. Also plot a snapshot of the SSTs in your region
# Select a region (example: Pacific Ocean)
region_sst = sst.sel(lat=slice(-30, 30), lon=slice(120, 240))

# Monthly averages
monthly_avg = region_sst.groupby('time.month').mean()
monthly_avg.plot()
plt.title("Monthly Averages of Pacific Ocean SST")
plt.show()

# Daily averages (assuming high-resolution dataset)
daily_avg = region_sst.groupby('time.dayofyear').mean()
daily_avg.plot()
plt.title("Daily Averages of Pacific Ocean SST")
plt.show()

# Snapshot
region_sst.isel(time=0).plot()
plt.title("Snapshot of Pacific Ocean SST")
plt.show()
